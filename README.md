# Kuma-Lite

> ç¬¬ä¸‰æ–¹ Uptime Kuma ç›‘æŽ§ä»ªè¡¨ç›˜ - æ›´ç›´è§‚ã€æ›´å¼ºå¤§çš„çŠ¶æ€å±•ç¤º

## ðŸ“š æ–‡æ¡£å¯¼èˆª

- [å¿«é€Ÿå¼€å§‹](./QUICKSTART.md) - 5 åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²
- [æž¶æž„æ–‡æ¡£](./ARCHITECTURE.md) - å®Œæ•´çš„æŠ€æœ¯æž¶æž„å’Œå®žçŽ°ç»†èŠ‚
- [æ–‡ä»¶æ¸…å•](./FILE_MANIFEST.md) - é¡¹ç›®æ–‡ä»¶è¯´æ˜Žå’Œç”¨é€”
- [æ›´æ–°æ—¥å¿—](./CHANGELOG.md) - ç‰ˆæœ¬æ›´æ–°è®°å½•
- [å¼€å‘æŒ‡å—](./DEV_GUIDE.md) - å¼€å‘çŽ¯å¢ƒæ­å»º
- [API æ–‡æ¡£](./docs/API.md) - API æŽ¥å£è§„èŒƒ
- [éƒ¨ç½²æŒ‡å—](./docs/DEPLOYMENT.md) - ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²

---

## é¡¹ç›®ç®€ä»‹

Kuma-Lite æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹ Uptime Kuma ç›‘æŽ§ä»ªè¡¨ç›˜é¡¹ç›®ï¼Œæ—¨åœ¨è§£å†³ Uptime Kuma å†…å»ºå…¬å¼€çŠ¶æ€é¡µé¢ä¸å¤Ÿç›´è§‚ã€æ²¡æœ‰å»¶è¿Ÿå›¾è¡¨ç­‰ç—›ç‚¹ã€‚

æœ¬é¡¹ç›®å‚è€ƒå¼€æºé¡¹ç›® [kuma-mieru](https://github.com/Alice39s/kuma-mieru) çš„è®¾è®¡ç†å¿µï¼Œåœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œäº†å¢žå¼ºå’Œä¼˜åŒ–ã€‚

## æ ¸å¿ƒç‰¹æ€§

- âœ… **ç›´è§‚çš„ç›‘æŽ§å±•ç¤º**: æ¸…æ™°çš„çŠ¶æ€å¡ç‰‡å’Œå¯è§†åŒ–å›¾è¡¨
- ðŸ“Š **å»¶è¿Ÿå›¾è¡¨**: å®žæ—¶å±•ç¤ºæœåŠ¡å“åº”æ—¶é—´è¶‹åŠ¿
- ðŸš€ **åŽç«¯ç¼“å­˜**: æ•°æ®ç¼“å­˜å’Œæ•´ç†ï¼Œæå‡è®¿é—®é€Ÿåº¦
- ðŸ’¾ **æŒä¹…åŒ–å­˜å‚¨**: åŽ†å²æ•°æ®æŒä¹…åŒ–ï¼Œæ”¯æŒé•¿æœŸæ•°æ®åˆ†æž
- ðŸ³ **Docker éƒ¨ç½²**: å•å®¹å™¨éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨
- ðŸ”’ **æ— è·¨åŸŸé—®é¢˜**: åŽç«¯ç›´æŽ¥æ•°æ®èŽ·å–ï¼Œå‰ç«¯ç›´æŽ¥ä½¿ç”¨
- ðŸŽ¯ **ä¸€ä½“åŒ–æž¶æž„**: åŽç«¯æä¾› API å’Œé™æ€é¡µé¢æœåŠ¡ï¼Œéƒ¨ç½²ç®€å•

## æŠ€æœ¯æ ˆ

### åŽç«¯
- Go 1.21+ - é«˜æ€§èƒ½åŽç«¯è¯­è¨€
- Gin - Web æ¡†æž¶ï¼Œæä¾› API å’Œé™æ€æ–‡ä»¶æœåŠ¡
- SQLite - è½»é‡çº§æ•°æ®åº“ï¼ˆæŒä¹…åŒ–å­˜å‚¨ï¼‰
- Go-Cache - å†…å­˜ç¼“å­˜
- GORM - ORM æ¡†æž¶

### å‰ç«¯
- Vue 3 - æ¸è¿›å¼ JavaScript æ¡†æž¶ï¼ˆCDN å¼•å…¥ï¼Œæ— éœ€æž„å»ºï¼‰
- ECharts - å›¾è¡¨å¯è§†åŒ–ï¼ˆCDN å¼•å…¥ï¼‰
- Axios - HTTP å®¢æˆ·ç«¯ï¼ˆCDN å¼•å…¥ï¼‰
- åŽŸç”Ÿ CSS / Tailwind CDN - æ ·å¼æ–¹æ¡ˆ

### éƒ¨ç½²
- Docker - å®¹å™¨åŒ–éƒ¨ç½²
- å•å®¹å™¨åŒ…å«æ‰€æœ‰æœåŠ¡

## é¡¹ç›®æž¶æž„

```
kuma-lite/
â”œâ”€â”€ backend/                # åŽç«¯ Go é¡¹ç›®
â”‚   â”œâ”€â”€ api/                # API è·¯ç”±å¤„ç†
â”‚   â”‚   â”œâ”€â”€ handlers.go     # HTTP å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ router.go       # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ cache/              # ç¼“å­˜é€»è¾‘
â”‚   â”‚   â””â”€â”€ cache.go        # ç¼“å­˜ç®¡ç†å™¨
â”‚   â”œâ”€â”€ database/           # æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ db.go           # æ•°æ®åº“è¿žæŽ¥
â”‚   â”‚   â””â”€â”€ repository.go   # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ fetcher/            # æ•°æ®èŽ·å–
â”‚   â”‚   â”œâ”€â”€ kuma.go         # Uptime Kuma æ•°æ®æŠ“å–
â”‚   â”‚   â””â”€â”€ parser.go       # æ•°æ®è§£æžé€»è¾‘
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡åž‹
â”‚   â”‚   â””â”€â”€ monitor.go      # ç›‘æŽ§é¡¹æ¨¡åž‹
â”‚   â”œâ”€â”€ config/             # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ config.go       # é…ç½®åŠ è½½
â”‚   â”œâ”€â”€ scheduler/          # å®šæ—¶ä»»åŠ¡
â”‚   â”‚   â””â”€â”€ scheduler.go    # æ•°æ®å®šæœŸèŽ·å–
â”‚   â””â”€â”€ main.go             # ä¸»å…¥å£
â”œâ”€â”€ static/                 # å‰ç«¯é™æ€èµ„æº
â”‚   â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css       # è‡ªå®šä¹‰æ ·å¼
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ app.js          # Vue ä¸»åº”ç”¨
â”‚       â”œâ”€â”€ api.js          # API è°ƒç”¨å°è£…
â”‚       â”œâ”€â”€ components.js   # Vue ç»„ä»¶å®šä¹‰
â”‚       â””â”€â”€ utils.js        # å·¥å…·å‡½æ•°
â”œâ”€â”€ data/                   # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ kuma-lite.db        # SQLite æ•°æ®åº“ï¼ˆè¿è¡Œæ—¶ç”Ÿæˆï¼‰
â”œâ”€â”€ docs/                   # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ REQUIREMENTS.md     # éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ DESIGN.md           # è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ API.md              # API æ–‡æ¡£
â”‚   â””â”€â”€ DEPLOYMENT.md       # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ Dockerfile              # Docker é•œåƒæž„å»º
â”œâ”€â”€ docker-compose.yml      # Docker Compose é…ç½®
â”œâ”€â”€ .env.example            # çŽ¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ go.mod                  # Go ä¾èµ–ç®¡ç†
â”œâ”€â”€ go.sum
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜Ž
```

## å¿«é€Ÿå¼€å§‹

### ðŸ³ ä½¿ç”¨ Docker Hub é•œåƒï¼ˆæœ€ç®€å•ï¼‰

```bash
# 1. åˆ›å»ºé…ç½®æ–‡ä»¶
cat > .env << EOF
KUMA_API_URL=https://your-kuma-instance.com
KUMA_STATUS_PAGE_SLUG=your-status-page-slug
SERVER_PORT=8080
EOF

# 2. è¿è¡Œå®¹å™¨
docker run -d \
  --name kuma-lite \
  -p 8080:8080 \
  --env-file .env \
  -v $(pwd)/data:/data \
  ziwiwiz/kuma-lite:latest

# 3. æŸ¥çœ‹æ—¥å¿—
docker logs -f kuma-lite
```

è®¿é—® `http://localhost:8080` å³å¯æŸ¥çœ‹ç›‘æŽ§ä»ªè¡¨ç›˜ã€‚

**Docker é•œåƒæ ‡ç­¾**:
- `ziwiwiz/kuma-lite:latest` - æœ€æ–°ç‰ˆæœ¬
- `ziwiwiz/kuma-lite:1.0.0` - ç¨³å®šç‰ˆæœ¬

### ä½¿ç”¨ Docker Compose éƒ¨ç½²

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ziwiwiz/kuma-lite.git
cd kuma-lite

# é…ç½®çŽ¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½® Uptime Kuma API åœ°å€

# å¯åŠ¨å®¹å™¨
docker-compose up -d
```

è®¿é—® `http://localhost:8080` å³å¯æŸ¥çœ‹ç›‘æŽ§ä»ªè¡¨ç›˜ã€‚

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£… Go ä¾èµ–
go mod download

# é…ç½®çŽ¯å¢ƒå˜é‡
export KUMA_API_URL=https://your-kuma-instance.com
export KUMA_STATUS_PAGE_SLUG=your-status-page-slug

# è¿è¡ŒæœåŠ¡
go run backend/main.go
```

è®¿é—® `http://localhost:8080` æŸ¥çœ‹åº”ç”¨ã€‚

## é…ç½®è¯´æ˜Ž

### çŽ¯å¢ƒå˜é‡

```env
# Uptime Kuma é…ç½®
KUMA_API_URL=https://your-kuma-instance.com
KUMA_STATUS_PAGE_SLUG=your-status-page-slug

# æœåŠ¡å™¨é…ç½®
SERVER_PORT=8080

# ç¼“å­˜é…ç½®
CACHE_DURATION=60          # ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰
FETCH_INTERVAL=30          # æ•°æ®èŽ·å–é—´éš”ï¼ˆç§’ï¼‰

# æ•°æ®åº“é…ç½®
DB_PATH=./data/kuma-lite.db

# æ•°æ®ä¿ç•™ç­–ç•¥
DATA_RETENTION_DAYS=30     # åŽ†å²æ•°æ®ä¿ç•™å¤©æ•°
```

## å·¥ä½œåŽŸç†

### 1. æ•°æ®æµç¨‹

```
Uptime Kuma Status Page
        â†“ (å®šæœŸæŠ“å–)
   Go Backend Fetcher
        â†“ (è§£æžæ•°æ®)
   Memory Cache + SQLite
        â†“ (REST API)
   Vue Frontend (Browser)
        â†“ (å¯è§†åŒ–å±•ç¤º)
      ç”¨æˆ·ç•Œé¢
```

### 2. æ•°æ®è§£æžä¸Žç¼“å­˜

- **å®šæœŸæŠ“å–**: åŽç«¯å®šæ—¶ä»Ž Uptime Kuma çŠ¶æ€é¡µé¢èŽ·å–æ•°æ®
- **æ™ºèƒ½è§£æž**: è§£æžç›‘æŽ§é¡¹çŠ¶æ€ã€å“åº”æ—¶é—´ã€å¯ç”¨çŽ‡ç­‰ä¿¡æ¯
- **åŒå±‚ç¼“å­˜**:
  - å†…å­˜ç¼“å­˜ï¼šå¿«é€Ÿå“åº”ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢
  - æ•°æ®åº“æŒä¹…åŒ–ï¼šSQLite å­˜å‚¨åŽ†å²æ•°æ®
- **è‡ªåŠ¨æ¸…ç†**: å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®ï¼Œä¿æŒæ•°æ®åº“è½»é‡

### 3. API è®¾è®¡

Go åŽç«¯æä¾› RESTful APIï¼š

- `GET /api/monitors` - èŽ·å–æ‰€æœ‰ç›‘æŽ§é¡¹åˆ—è¡¨
- `GET /api/monitors/:id` - èŽ·å–å•ä¸ªç›‘æŽ§é¡¹è¯¦æƒ…
- `GET /api/monitors/:id/history` - èŽ·å–ç›‘æŽ§é¡¹åŽ†å²æ•°æ®
- `GET /api/stats` - èŽ·å–ç»Ÿè®¡ä¿¡æ¯
- `GET /` - æä¾›å‰ç«¯é¡µé¢æœåŠ¡

### 4. å‰ç«¯å±•ç¤º

- Vue 3 é€šè¿‡ CDN å¼•å…¥ï¼Œæ— éœ€æ‰“åŒ…æž„å»º
- å•é¡µé¢åº”ç”¨ï¼Œç»„ä»¶åŒ–å¼€å‘
- ECharts å®žçŽ°å“åº”æ—¶é—´å›¾è¡¨
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯è®¿é—®

## åŠŸèƒ½ç‰¹æ€§

### 1. ç›‘æŽ§å±•ç¤º

- âœ… å®žæ—¶ç›‘æŽ§çŠ¶æ€å¡ç‰‡
- âœ… æœåŠ¡å¯ç”¨çŽ‡ç»Ÿè®¡
- âœ… å“åº”æ—¶é—´è¶‹åŠ¿å›¾è¡¨
- âœ… äº‹ä»¶æ—¥å¿—å±•ç¤º
- âœ… åˆ†ç»„ç®¡ç†å’Œç­›é€‰

### 2. æ•°æ®å¯è§†åŒ–

- ðŸ“Š ECharts å“åº”æ—¶é—´æŠ˜çº¿å›¾
- ðŸ“ˆ å¯ç”¨çŽ‡ç™¾åˆ†æ¯”å±•ç¤º
- ðŸ“‰ çŠ¶æ€åŽ†å²æ—¶é—´è½´
- ðŸ” è‡ªå®šä¹‰æ—¶é—´èŒƒå›´æŸ¥è¯¢

### 3. æ€§èƒ½ä¼˜åŒ–

- âš¡ å†…å­˜ç¼“å­˜ï¼Œç§’çº§å“åº”
- ðŸ’¾ å¢žé‡æ•°æ®æ›´æ–°
- ðŸ”„ æ™ºèƒ½åˆ·æ–°ç­–ç•¥
- ðŸ“¦ è½»é‡çº§éƒ¨ç½²åŒ…

## å¼€å‘è¿›åº¦

- [x] éœ€æ±‚åˆ†æžå’Œæž¶æž„è®¾è®¡
- [ ] åŽç«¯ Go æœåŠ¡å¼€å‘
  - [ ] é¡¹ç›®ç»“æž„æ­å»º
  - [ ] é…ç½®ç®¡ç†æ¨¡å—
  - [ ] æ•°æ®èŽ·å–æ¨¡å—ï¼ˆUptime Kuma APIï¼‰
  - [ ] æ•°æ®è§£æžé€»è¾‘
  - [ ] ç¼“å­˜ç®¡ç†æ¨¡å—
  - [ ] æ•°æ®åº“æŒä¹…åŒ–ï¼ˆSQLite + GORMï¼‰
  - [ ] REST API æŽ¥å£
  - [ ] å®šæ—¶ä»»åŠ¡è°ƒåº¦
  - [ ] é™æ€æ–‡ä»¶æœåŠ¡
- [ ] å‰ç«¯å¼€å‘
  - [ ] HTML é¡µé¢ç»“æž„
  - [ ] Vue ç»„ä»¶è®¾è®¡
  - [ ] ç›‘æŽ§å¡ç‰‡ç»„ä»¶
  - [ ] å›¾è¡¨å¯è§†åŒ–ç»„ä»¶
  - [ ] API é›†æˆ
  - [ ] å“åº”å¼å¸ƒå±€
- [ ] Docker å®¹å™¨åŒ–
  - [ ] Dockerfile ç¼–å†™
  - [ ] docker-compose é…ç½®
  - [ ] æž„å»ºä¼˜åŒ–
- [ ] æ–‡æ¡£å®Œå–„
  - [ ] API æ–‡æ¡£
  - [ ] éƒ¨ç½²æ–‡æ¡£
  - [ ] ä½¿ç”¨è¯´æ˜Ž
- [ ] æµ‹è¯•å’Œä¼˜åŒ–

## å‚è€ƒé¡¹ç›®

- [kuma-mieru](https://github.com/Alice39s/kuma-mieru) - åŽŸå§‹å‚è€ƒé¡¹ç›®
- [Uptime Kuma](https://github.com/louislam/uptime-kuma) - ä¸Šæ¸¸ç›‘æŽ§ç³»ç»Ÿ

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿Žæäº¤ Issue å’Œ Pull Requestï¼

